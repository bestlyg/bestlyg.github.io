"use strict";(self.webpackChunk_bestlyg_site=self.webpackChunk_bestlyg_site||[]).push([[18519],{94764:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>f,frontMatter:()=>r,metadata:()=>s,toc:()=>p});const s=JSON.parse('{"id":"leetcode/1601-1700/\u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217","title":"1670.\u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217","description":"\u94fe\u63a5\uff1a1670.\u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217","source":"@site/docs/leetcode/1601-1700/1670.\u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217.md","sourceDirName":"leetcode/1601-1700","slug":"/leetcode/1601-1700/\u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217","permalink":"/docs/leetcode/1601-1700/\u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1670,"frontMatter":{},"sidebar":"journal","previous":{"title":"1669.\u5408\u5e76\u4e24\u4e2a\u94fe\u8868","permalink":"/docs/leetcode/1601-1700/\u5408\u5e76\u4e24\u4e2a\u94fe\u8868"},"next":{"title":"1671.\u5f97\u5230\u5c71\u5f62\u6570\u7ec4\u7684\u6700\u5c11\u5220\u9664\u6b21\u6570","permalink":"/docs/leetcode/1601-1700/\u5f97\u5230\u5c71\u5f62\u6570\u7ec4\u7684\u6700\u5c11\u5220\u9664\u6b21\u6570"}}');var l=t(86070),i=t(31503);const r={},c="1670.\u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217",o={},p=[{value:"\u9898\u89e3 1 - typescript",id:"\u9898\u89e3-1---typescript",level:2},{value:"\u9898\u89e3 2 - cpp",id:"\u9898\u89e3-2---cpp",level:2},{value:"\u9898\u89e3 3 - python",id:"\u9898\u89e3-3---python",level:2}];function a(n){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"1670\u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217",children:"1670.\u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.p,{children:["\u94fe\u63a5\uff1a",(0,l.jsx)(e.a,{href:"https://leetcode.cn/problems/design-front-middle-back-queue",children:"1670.\u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217"}),(0,l.jsx)(e.br,{}),"\n","\u96be\u5ea6\uff1aMedium",(0,l.jsx)(e.br,{}),"\n","\u6807\u7b7e\uff1a\u8bbe\u8ba1\u3001\u961f\u5217\u3001\u6570\u7ec4\u3001\u94fe\u8868\u3001\u6570\u636e\u6d41",(0,l.jsx)(e.br,{}),"\n","\u7b80\u4ecb\uff1a","\u8bf7\u4f60\u8bbe\u8ba1\u4e00\u4e2a\u961f\u5217\uff0c\u652f\u6301\u5728\u524d\uff0c\u4e2d\uff0c\u540e\u4e09\u4e2a\u4f4d\u7f6e\u7684 push \u548c pop \u64cd\u4f5c\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u9898\u89e3-1---typescript",children:"\u9898\u89e3 1 - typescript"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2021-03-14"}),"\n",(0,l.jsx)(e.li,{children:"\u6267\u884c\u7528\u65f6\uff1a144ms"}),"\n",(0,l.jsx)(e.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a45.1MB"}),"\n",(0,l.jsx)(e.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1atypescript"}),"\n",(0,l.jsxs)(e.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u5229\u7528\u4e24\u4e2a\u6570\u7ec4\u7ef4\u62a4\u4e2d\u95f4\u503c\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-typescript",children:"class FrontMiddleBackQueue {\n  get frontLen() {\n    return this.front.length;\n  }\n  get backLen() {\n    return this.back.length;\n  }\n  get len() {\n    return this.frontLen + this.backLen;\n  }\n  private front: number[] = [];\n  private back: number[] = [];\n  pushFront(val: number): void {\n    this.front.unshift(val);\n    this.check();\n  }\n  pushMiddle(val: number): void {\n    this.front.push(val);\n    this.check();\n  }\n  pushBack(val: number): void {\n    this.back.push(val);\n    this.check();\n  }\n  popFront(): number {\n    if (this.len === 0) return -1;\n    const num = this.frontLen === 0 ? this.back.shift()! : this.front.shift()!;\n    this.check();\n    return num;\n  }\n  popMiddle(): number {\n    if (this.len === 0) return -1;\n    const num = this.frontLen === 0 || this.len & 1 ? this.back.shift()! : this.front.pop()!;\n    this.check();\n    return num;\n  }\n  popBack(): number {\n    if (this.len === 0) return -1;\n    const num = this.backLen === 0 ? this.front.pop()! : this.back.pop()!;\n    this.check();\n    return num;\n  }\n  private check() {\n    if (this.frontLen > this.backLen) {\n      this.back.unshift(this.front.pop()!);\n    }\n    if (this.backLen > this.frontLen + 1) {\n      this.front.push(this.back.shift()!);\n    }\n  }\n}\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\u9898\u89e3-2---cpp",children:"\u9898\u89e3 2 - cpp"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2022-03-03"}),"\n",(0,l.jsx)(e.li,{children:"\u6267\u884c\u7528\u65f6\uff1a28ms"}),"\n",(0,l.jsx)(e.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a20.4MB"}),"\n",(0,l.jsx)(e.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1acpp"}),"\n",(0,l.jsxs)(e.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u7ef4\u62a4\u4e24\u4e2a\u53cc\u7aef\u961f\u5217\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-cpp",children:"class FrontMiddleBackQueue {\n   public:\n    deque<int> q1, q2;\n    FrontMiddleBackQueue() {}\n    void balance() {\n        if (empty()) return;\n        while (q1.size() > q2.size()) {\n            q2.push_front(q1.back());\n            q1.pop_back();\n        }\n        while (q1.size() < q2.size() - 1) {\n            q1.push_back(q2.front());\n            q2.pop_front();\n        }\n    }\n    void pushFront(int val) {\n        q1.push_front(val);\n        balance();\n    }\n    void pushMiddle(int val) {\n        if (q1.size() == q2.size())\n            q1.push_back(val);\n        else\n            q2.push_front(val);\n        balance();\n    }\n    void pushBack(int val) {\n        q2.push_back(val);\n        balance();\n    }\n    int popFront() {\n        if (empty()) return -1;\n        int res;\n        if (q1.size()) {\n            res = q1.front();\n            q1.pop_front();\n        } else {\n            res = q2.front();\n            q2.pop_front();\n        }\n        balance();\n        return res;\n    }\n    int popMiddle() {\n        if (empty()) return -1;\n        int res;\n        if (q1.size() == q2.size()) {\n            res = q1.back();\n            q1.pop_back();\n        } else {\n            res = q2.front();\n            q2.pop_front();\n        }\n        balance();\n        return res;\n    }\n    int popBack() {\n        if (empty()) return -1;\n        int res = q2.back();\n        q2.pop_back();\n        balance();\n        return res;\n    }\n    int empty() { return q1.size() + q2.size() == 0; }\n};\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\u9898\u89e3-3---python",children:"\u9898\u89e3 3 - python"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2023-11-28"}),"\n",(0,l.jsx)(e.li,{children:"\u6267\u884c\u7528\u65f6\uff1a68ms"}),"\n",(0,l.jsx)(e.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a16.81MB"}),"\n",(0,l.jsx)(e.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1apython"}),"\n",(0,l.jsxs)(e.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u4e24\u4e2a\u53cc\u7aef\u961f\u52171670. \u8bbe\u8ba1\u524d\u4e2d\u540e\u961f\u5217\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"class FrontMiddleBackQueue:\n    def __init__(self):\n        self.len = 0\n        self.q1 = deque()\n        self.q2 = deque()\n    def pushFront(self, val: int) -> None:\n        self.q1.appendleft(val)\n        self.after(1)\n    def pushMiddle(self, val: int) -> None:\n        self.q2.appendleft(val)\n        self.after(1)\n    def pushBack(self, val: int) -> None:\n        self.q2.append(val)\n        self.after(1)\n    def after(self, offset: int) -> None:\n        self.len += offset\n        if len(self.q1) + 2 == len(self.q2): self.q1.append(self.q2.popleft())\n        elif len(self.q1) == len(self.q2) + 1: self.q2.appendleft(self.q1.pop()) \n    def popFront(self) -> int:\n        if self.len == 0: return -1\n        val = self.q2.pop() if self.len == 1 else self.q1.popleft()\n        self.after(-1)\n        return val\n    def popMiddle(self) -> int:\n        if self.len == 0: return -1\n        val = self.q1.pop() if self.len % 2 == 0 else self.q2.popleft()\n        self.after(-1)\n        return val\n    def popBack(self) -> int:\n        if self.len == 0: return -1\n        val = self.q2.pop()\n        self.after(-1)\n        return val\n"})})]})}function f(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(a,{...n})}):a(n)}},31503:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>c});var s=t(30758);const l={},i=s.createContext(l);function r(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:r(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);