"use strict";(self.webpackChunk_bestlyg_site=self.webpackChunk_bestlyg_site||[]).push([[35437],{59461:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>p,contentTitle:()=>c,default:()=>a,frontMatter:()=>t,metadata:()=>l,toc:()=>d});var r=i(86070),s=i(25710);const t={},c="714.\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u542b\u624b\u7eed\u8d39",l={id:"leetcode/701-800/\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u542b\u624b\u7eed\u8d39",title:"714.\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u542b\u624b\u7eed\u8d39",description:"\u94fe\u63a5\uff1a714.\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u542b\u624b\u7eed\u8d39",source:"@site/docs/leetcode/701-800/714.\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u542b\u624b\u7eed\u8d39.md",sourceDirName:"leetcode/701-800",slug:"/leetcode/701-800/\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u542b\u624b\u7eed\u8d39",permalink:"/docs/leetcode/701-800/\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u542b\u624b\u7eed\u8d39",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:714,frontMatter:{},sidebar:"journal",previous:{title:"713.\u4e58\u79ef\u5c0f\u4e8eK\u7684\u5b50\u6570\u7ec4",permalink:"/docs/leetcode/701-800/\u4e58\u79ef\u5c0f\u4e8eK\u7684\u5b50\u6570\u7ec4"},next:{title:"715.Range\u6a21\u5757",permalink:"/docs/leetcode/701-800/Range\u6a21\u5757"}},p={},d=[{value:"\u9898\u89e3 1 - typescript",id:"\u9898\u89e3-1---typescript",level:2},{value:"\u9898\u89e3 2 - typescript",id:"\u9898\u89e3-2---typescript",level:2},{value:"\u9898\u89e3 3 - typescript",id:"\u9898\u89e3-3---typescript",level:2},{value:"\u9898\u89e3 4 - typescript",id:"\u9898\u89e3-4---typescript",level:2},{value:"\u9898\u89e3 5 - python",id:"\u9898\u89e3-5---python",level:2}];function o(n){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"714\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u542b\u624b\u7eed\u8d39",children:"714.\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u542b\u624b\u7eed\u8d39"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u94fe\u63a5\uff1a",(0,r.jsx)(e.a,{href:"https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-transaction-fee",children:"714.\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u542b\u624b\u7eed\u8d39"}),(0,r.jsx)(e.br,{}),"\n","\u96be\u5ea6\uff1aMedium",(0,r.jsx)(e.br,{}),"\n","\u6807\u7b7e\uff1a\u8d2a\u5fc3\u3001\u6570\u7ec4\u3001\u52a8\u6001\u89c4\u5212",(0,r.jsx)(e.br,{}),"\n","\u7b80\u4ecb\uff1a","\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4 \xa0prices\uff0c\u5176\u4e2d\u7b2c \xa0i\xa0 \u4e2a\u5143\u7d20\u4ee3\u8868\u4e86\u7b2c \xa0i\xa0 \u5929\u7684\u80a1\u7968\u4ef7\u683c \uff1b\u975e\u8d1f\u6574\u6570 \xa0fee \u4ee3\u8868\u4e86\u4ea4\u6613\u80a1\u7968\u7684\u624b\u7eed\u8d39\u7528\u3002\u4f60\u53ef\u4ee5\u65e0\u9650\u6b21\u5730\u5b8c\u6210\u4ea4\u6613\uff0c\u4f46\u662f\u4f60\u6bcf\u7b14\u4ea4\u6613\u90fd\u9700\u8981\u4ed8\u624b\u7eed\u8d39\u3002\u5982\u679c\u4f60\u5df2\u7ecf\u8d2d\u4e70\u4e86\u4e00\u4e2a\u80a1\u7968\uff0c\u5728\u5356\u51fa\u5b83\u4e4b\u524d\u4f60\u5c31\u4e0d\u80fd\u518d\u7ee7\u7eed\u8d2d\u4e70\u80a1\u7968\u4e86\u3002\u8fd4\u56de\u83b7\u5f97\u5229\u6da6\u7684\u6700\u5927\u503c\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u9898\u89e3-1---typescript",children:"\u9898\u89e3 1 - typescript"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2020-12-17"}),"\n",(0,r.jsx)(e.li,{children:"\u6267\u884c\u7528\u65f6\uff1a452ms"}),"\n",(0,r.jsx)(e.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a67.9MB"}),"\n",(0,r.jsx)(e.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1atypescript"}),"\n",(0,r.jsxs)(e.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u52a8\u6001\u89c4\u5212\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"function maxProfit(prices: number[], fee: number): number {\n  const len = prices.length;\n  /**\n   * 0 \u624b\u4e0a\u65e0\u80a1\u7968\n   * 1 \u624b\u4e0a\u6709\u80a1\u7968\n   */\n  const dp: number[][] = new Array(len).fill(0).map(_ => new Array(2).fill(0));\n  dp[0] = [0, -prices[0]];\n  for (let i = 1; i < len; i++) {\n    dp[i] = [\n      Math.max(dp[i - 1][0], dp[i - 1][1] + prices[i] - fee),\n      Math.max(dp[i - 1][1], dp[i - 1][0] - prices[i]),\n    ];\n  }\n  return dp[len - 1][0];\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u9898\u89e3-2---typescript",children:"\u9898\u89e3 2 - typescript"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2020-12-17"}),"\n",(0,r.jsx)(e.li,{children:"\u6267\u884c\u7528\u65f6\uff1a116ms"}),"\n",(0,r.jsx)(e.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a48.1MB"}),"\n",(0,r.jsx)(e.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1atypescript"}),"\n",(0,r.jsxs)(e.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u5b8c\u5584\u9898\u89e3 1\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"function maxProfit(prices: number[], fee: number): number {\n  /**\n   * 0 \u624b\u4e0a\u65e0\u80a1\u7968\n   * 1 \u624b\u4e0a\u6709\u80a1\u7968\n   */\n  let price0 = 0;\n  let price1 = -prices[0];\n  for (let i = 1, len = prices.length; i < len; i++) {\n    [price0, price1] = [\n      Math.max(price0, price1 + prices[i] - fee),\n      Math.max(price1, price0 - prices[i]),\n    ];\n  }\n  return price0;\n}\nconsole.log(maxProfit([9, 8, 7, 1, 2], 3));\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u9898\u89e3-3---typescript",children:"\u9898\u89e3 3 - typescript"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2021-09-13"}),"\n",(0,r.jsx)(e.li,{children:"\u6267\u884c\u7528\u65f6\uff1a280ms"}),"\n",(0,r.jsx)(e.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a64.8MB"}),"\n",(0,r.jsx)(e.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1atypescript"}),"\n",(0,r.jsxs)(e.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u52a8\u6001\u89c4\u5212\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"function maxProfit(prices: number[], fee: number): number {\n  const n = prices.length;\n  const dp = new Array(n).fill(0).map(_ => new Array(2).fill(0));\n  dp[0][0] = -prices[0];\n  for (let i = 1; i < n; i++) {\n    dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1] - prices[i]);\n    dp[i][1] = Math.max(dp[i - 1][1], dp[i - 1][0] + prices[i] - fee);\n  }\n  return dp[n - 1][1];\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u9898\u89e3-4---typescript",children:"\u9898\u89e3 4 - typescript"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2021-09-13"}),"\n",(0,r.jsx)(e.li,{children:"\u6267\u884c\u7528\u65f6\uff1a108ms"}),"\n",(0,r.jsx)(e.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a47.6MB"}),"\n",(0,r.jsx)(e.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1atypescript"}),"\n",(0,r.jsxs)(e.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u52a8\u6001\u89c4\u5212\u4f18\u5316\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"function maxProfit(prices: number[], fee: number): number {\n  const n = prices.length;\n  const dp = new Array(2).fill(0).map(_ => new Array(2).fill(0));\n  dp[0][0] = -prices[0];\n  for (let i = 1; i < n; i++) {\n    const idx = i % 2;\n    const preIdx = idx ^ 1;\n    dp[idx][0] = Math.max(dp[preIdx][0], dp[preIdx][1] - prices[i]);\n    dp[idx][1] = Math.max(dp[preIdx][1], dp[preIdx][0] + prices[i] - fee);\n  }\n  return dp[(n - 1) % 2][1];\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u9898\u89e3-5---python",children:"\u9898\u89e3 5 - python"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2023-10-06"}),"\n",(0,r.jsx)(e.li,{children:"\u6267\u884c\u7528\u65f6\uff1a516ms"}),"\n",(0,r.jsx)(e.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a28.4MB"}),"\n",(0,r.jsx)(e.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1apython"}),"\n",(0,r.jsxs)(e.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u540c122\u9898\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"class Solution:\n    def maxProfit(self, prices: List[int], fee: int) -> int:\n        n = len(prices)\n        # [i][0] i\u5929\u4e70\uff0c [i][1] i\u5929\u5356\n        dp = [[-inf for _ in range(2)] for _ in range(n)]\n        dp[0][0] = -prices[0]\n        dp[0][1] = 0\n        res = 0\n        num1 = 0\n        num2 = -prices[0]\n        for i in range(1, n):\n            dp[i][0] = max(dp[i][0], num1 - prices[i])\n            dp[i][1] = max(dp[i][1], num2 + prices[i] - fee)\n            res = max(res, dp[i][0], dp[i][1])\n            num1 = max(num1, dp[i][1])\n            num2 = max(num2, dp[i][0])\n        return res\n        \n        \n\n"})})]})}function a(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(o,{...n})}):o(n)}},25710:(n,e,i)=>{i.d(e,{R:()=>c,x:()=>l});var r=i(30758);const s={},t=r.createContext(s);function c(n){const e=r.useContext(t);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),r.createElement(t.Provider,{value:e},n.children)}}}]);