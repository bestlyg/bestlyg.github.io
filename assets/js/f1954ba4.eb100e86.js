"use strict";(self.webpackChunk_bestlyg_site=self.webpackChunk_bestlyg_site||[]).push([[46399],{37593:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>p});var s=e(86070),c=e(25710);const r={},a="224.\u57fa\u672c\u8ba1\u7b97\u5668",i={id:"leetcode/201-300/\u57fa\u672c\u8ba1\u7b97\u5668",title:"224.\u57fa\u672c\u8ba1\u7b97\u5668",description:"\u94fe\u63a5\uff1a224.\u57fa\u672c\u8ba1\u7b97\u5668",source:"@site/docs/leetcode/201-300/224.\u57fa\u672c\u8ba1\u7b97\u5668.md",sourceDirName:"leetcode/201-300",slug:"/leetcode/201-300/\u57fa\u672c\u8ba1\u7b97\u5668",permalink:"/docs/leetcode/201-300/\u57fa\u672c\u8ba1\u7b97\u5668",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:224,frontMatter:{},sidebar:"journal",previous:{title:"223.\u77e9\u5f62\u9762\u79ef",permalink:"/docs/leetcode/201-300/\u77e9\u5f62\u9762\u79ef"},next:{title:"225.\u7528\u961f\u5217\u5b9e\u73b0\u6808",permalink:"/docs/leetcode/201-300/\u7528\u961f\u5217\u5b9e\u73b0\u6808"}},o={},p=[{value:"\u9898\u89e3 1 - java",id:"\u9898\u89e3-1---java",level:2},{value:"\u9898\u89e3 2 - typescript",id:"\u9898\u89e3-2---typescript",level:2}];function l(t){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"224\u57fa\u672c\u8ba1\u7b97\u5668",children:"224.\u57fa\u672c\u8ba1\u7b97\u5668"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u94fe\u63a5\uff1a",(0,s.jsx)(n.a,{href:"https://leetcode.cn/problems/basic-calculator",children:"224.\u57fa\u672c\u8ba1\u7b97\u5668"}),(0,s.jsx)(n.br,{}),"\n","\u96be\u5ea6\uff1aHard",(0,s.jsx)(n.br,{}),"\n","\u6807\u7b7e\uff1a\u6808\u3001\u9012\u5f52\u3001\u6570\u5b66\u3001\u5b57\u7b26\u4e32",(0,s.jsx)(n.br,{}),"\n","\u7b80\u4ecb\uff1a","\u5b9e\u73b0\u4e00\u4e2a\u57fa\u672c\u7684\u8ba1\u7b97\u5668\u6765\u8ba1\u7b97\u4e00\u4e2a\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u7684\u503c\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\u53ef\u4ee5\u5305\u542b\u5de6\u62ec\u53f7 ( \uff0c\u53f3\u62ec\u53f7 )\uff0c\u52a0\u53f7 + \uff0c\u51cf\u53f7 -\uff0c\u975e\u8d1f\u6574\u6570\u548c\u7a7a\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u9898\u89e3-1---java",children:"\u9898\u89e3 1 - java"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2020-02-16"}),"\n",(0,s.jsx)(n.li,{children:"\u6267\u884c\u7528\u65f6\uff1a145ms"}),"\n",(0,s.jsx)(n.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a76.4MB"}),"\n",(0,s.jsx)(n.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1ajava"}),"\n",(0,s.jsxs)(n.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u5148\u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u540e\u7f00\u8868\u8fbe\u5f0f\uff0c\u7136\u540e\u518d\u5229\u7528\u6808\u8ba1\u7b97\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'class Solution {\n    public int calculate(String s) {\n\t\tStack<String> stack1 = new Stack<String>();\n\t\tStack<String> stack2 = new Stack<String>();\n\t\tint len = s.length();\n\t\tString tem = "";\n\t\tfor (int i = 0; i < len; i++) {\n//\t\t\tSystem.out.println("tem:" + tem);\n//\t\t\tSystem.out.println("stack1:" + stack1);\n//\t\t\tSystem.out.println("stack2:" + stack2);\n\t\t\tString ch = s.charAt(i) + "";\n\t\t\tif (ch.compareTo(" ") == 0)\n\t\t\t\tcontinue;\n\t\t\tif (ch.compareTo("+") == 0 || ch.compareTo("-") == 0 || ch.compareTo("(") == 0) {\n\t\t\t\tstack1.push(ch);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (ch.compareTo(")") == 0) {\n\t\t\t\tstack1.pop();\n\t\t\t\tif (!stack1.isEmpty())\n\t\t\t\t\tstack2.push(stack1.pop());\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (i != len - 1 && s.charAt(i + 1) >= 48 && s.charAt(i) <= 57) {\n//\t\t\t\tSystem.out.println(1);\n\t\t\t\ttem += ch;\n\t\t\t\tcontinue;\n\t\t\t} else {\n//\t\t\t\tSystem.out.println(2);\n\t\t\t\tif(tem.compareTo("")!=0) {\n\t\t\t\t\tch = tem+ch;\n\t\t\t\t\ttem = "";\n\t\t\t\t}\n\t\t\t}\n\t\t\tstack2.push(ch);\n\t\t\tif (stack1.isEmpty())\n\t\t\t\tcontinue;\n\t\t\tif (stack1.peek().compareTo("+") == 0 || stack1.peek().compareTo("-") == 0) {\n\t\t\t\tstack2.push(stack1.pop());\n\t\t\t}\n\t\t}\n\n//\t\tSystem.out.println(stack2);\n\t\tDeque<String> tokens = new LinkedList<String>();\n\t\twhile (!stack2.isEmpty()) {\n\t\t\ttokens.offerFirst(stack2.pop() + "");\n\t\t}\n//\t\tSystem.out.println(tokens);\n\t\treturn evalRPN(tokens);\n//\t\treturn evalRPN("");\n\t}\n\n\tpublic int evalRPN(Deque<String> tokens) {\n\t\tStack<String> stack = new Stack<String>();\n\t\tint a, b;\n\t\tfor (String s : tokens) {\n\t\t\tswitch (s) {\n\t\t\tcase "+":\n\t\t\t\ta = Integer.parseInt(stack.pop());\n\t\t\t\tb = Integer.parseInt(stack.pop());\n\t\t\t\tstack.push((a + b) + "");\n\t\t\t\tbreak;\n\t\t\tcase "-":\n\t\t\t\ta = Integer.parseInt(stack.pop());\n\t\t\t\tb = Integer.parseInt(stack.pop());\n\t\t\t\tstack.push((b - a) + "");\n\t\t\t\tbreak;\n\t\t\tcase "*":\n\t\t\t\ta = Integer.parseInt(stack.pop());\n\t\t\t\tb = Integer.parseInt(stack.pop());\n\t\t\t\tstack.push((a * b) + "");\n\t\t\t\tbreak;\n\t\t\tcase "/":\n\t\t\t\ta = Integer.parseInt(stack.pop());\n\t\t\t\tb = Integer.parseInt(stack.pop());\n\t\t\t\tstack.push((b / a) + "");\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tstack.push(s);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn Integer.parseInt(stack.pop());\n\t}\n\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u9898\u89e3-2---typescript",children:"\u9898\u89e3 2 - typescript"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2021-03-10"}),"\n",(0,s.jsx)(n.li,{children:"\u6267\u884c\u7528\u65f6\uff1a148ms"}),"\n",(0,s.jsx)(n.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a44.9MB"}),"\n",(0,s.jsx)(n.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1atypescript"}),"\n",(0,s.jsxs)(n.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u5229\u7528\u6808\u4f9d\u6b21\u8ba1\u7b97\uff0c\u5e76\u8f6c\u6362\u51cf\u6cd5\u4e3a\u52a0\u6cd5\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const numReg = /\\-?\\d+/;\nconst opReg = /\\+|\\-/;\nconst squareReg = /\\(|\\)/;\nconst opMap: Record<string, (num1: number, num2: number) => number> = {\n  '+': (num1, num2) => num1 + num2,\n  '-': (num1, num2) => num1 - num2,\n  '*': (num1, num2) => num1 * num2,\n  '/': (num1, num2) => num1 / num2,\n};\nconst emptyReg = / /g;\nfunction calculate(s: string): number {\n  s = s.replace(emptyReg, '');\n  const stack: string[] = [];\n  const peek = () => stack[stack.length - 1];\n  if (s[0] === '-') s = '0' + s;\n  const len = s.length;\n  for (let i = 0; i < len; i++) {\n    let c = s[i];\n    if (opReg.test(c) || c === '(') {\n      stack.push(c);\n    } else if (c === ')') {\n      let c = 0;\n      let str = '';\n      while (peek() !== '(') {\n        str = stack.pop()! + str;\n        cpp;\n      }\n      stack.pop();\n      str = (c === 1 ? str : calculate(str)) + '';\n      if (peek() === '-') {\n        stack[stack.length - 1] = '+';\n        str = str.startsWith('-') ? str.substring(1) : '-' + str;\n      }\n      stack.push(str);\n    } else {\n      while (i < len - 1 && numReg.test(s[i + 1])) {\n        c += s[++i];\n      }\n      if (peek() === '-') {\n        c = stack.pop()! + c;\n        if (numReg.test(peek())) stack.push('+');\n      }\n      const top = peek();\n      if (opReg.test(top)) {\n        const op = stack.pop()!;\n        const num1 = stack.pop()!;\n        stack.push(opMap[op](Number(num1), Number(c)) + '');\n      } else {\n        stack.push(c);\n      }\n    }\n  }\n  return stack.length === 1 ? Number(stack[0]) : calculate(stack.join(''));\n}\n"})})]})}function u(t={}){const{wrapper:n}={...(0,c.R)(),...t.components};return n?(0,s.jsx)(n,{...t,children:(0,s.jsx)(l,{...t})}):l(t)}},25710:(t,n,e)=>{e.d(n,{R:()=>a,x:()=>i});var s=e(30758);const c={},r=s.createContext(c);function a(t){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof t?t(n):{...n,...t}}),[n,t])}function i(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(c):t.components||c:a(t.components),s.createElement(r.Provider,{value:n},t.children)}}}]);