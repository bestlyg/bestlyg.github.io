"use strict";(self.webpackChunk_bestlyg_site=self.webpackChunk_bestlyg_site||[]).push([[84245],{27610:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>s});const t=JSON.parse('{"id":"\u6570\u636e\u7ed3\u6784/\u6811/\u4e8c\u53c9\u641c\u7d22\u6811","title":"\u4e8c\u53c9\u641c\u7d22\u6811(BinarySearchTree)","description":"\u4e8c\u53c9\u6811\u7684\u4e00\u79cd\uff0c\u53ef\u4ee5\u5feb\u901f\u63d0\u9ad8\u641c\u7d22\u6548\u7387","source":"@site/docs/\u6570\u636e\u7ed3\u6784/\u6811/\u4e8c\u53c9\u641c\u7d22\u6811.mdx","sourceDirName":"\u6570\u636e\u7ed3\u6784/\u6811","slug":"/\u6570\u636e\u7ed3\u6784/\u6811/\u4e8c\u53c9\u641c\u7d22\u6811","permalink":"/docs/\u6570\u636e\u7ed3\u6784/\u6811/\u4e8c\u53c9\u641c\u7d22\u6811","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"journal","previous":{"title":"Trie","permalink":"/docs/\u6570\u636e\u7ed3\u6784/\u6811/Trie"},"next":{"title":"\u4e8c\u53c9\u6811(BinaryTree)","permalink":"/docs/\u6570\u636e\u7ed3\u6784/\u6811/\u4e8c\u53c9\u6811"}}');var o=r(86070),l=r(31503);const i={},a="\u4e8c\u53c9\u641c\u7d22\u6811(BinarySearchTree)",d={},s=[{value:"\u6838\u5fc3\u4ee3\u7801",id:"\u6838\u5fc3\u4ee3\u7801",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"\u4e8c\u53c9\u641c\u7d22\u6811binarysearchtree",children:"\u4e8c\u53c9\u641c\u7d22\u6811(BinarySearchTree)"})}),"\n",(0,o.jsx)(n.p,{children:"\u4e8c\u53c9\u6811\u7684\u4e00\u79cd\uff0c\u53ef\u4ee5\u5feb\u901f\u63d0\u9ad8\u641c\u7d22\u6548\u7387"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\u7684\u503c\u90fd\u5927\u4e8e\u5176\u5de6\u5b50\u6811\u6240\u6709\u8282\u70b9\u7684\u503c"}),"\n",(0,o.jsx)(n.li,{children:"\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\u7684\u503c\u90fd\u5c0f\u4e8e\u5176\u53f3\u5b50\u6811\u6240\u6709\u8282\u70b9\u7684\u503c"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u6838\u5fc3\u4ee3\u7801",children:"\u6838\u5fc3\u4ee3\u7801"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { BinaryTree, BinaryTreeNode } from './binaryTree';\n\nexport interface IBinarySearchTree<T> {\n  /** \u6811\u4e2d\u503c\u7684\u6570\u91cf */\n  size: number;\n  /** \u6811\u662f\u5426\u4e3a\u7a7a */\n  empty: boolean;\n  /** \u6e05\u7a7a\u6811 */\n  clear(): void;\n  /** \u6dfb\u52a0\u5143\u7d20 */\n  add(val: T): void;\n  /** \u5220\u9664\u5143\u7d20 */\n  remove(val: T): void;\n  /** \u662f\u5426\u5305\u542b\u67d0\u4e2a\u5143\u7d20 */\n  contains(val: T): boolean;\n}\nexport class BinarySearchTree<T> extends BinaryTree<T> implements IBinarySearchTree<T> {\n  protected createNode(\n    val: T,\n    parent: BinaryTreeNode<T> | null = null,\n    left: BinaryTreeNode<T> | null = null,\n    right: BinaryTreeNode<T> | null = null\n  ): BinaryTreeNode<T> {\n    return new BinaryTreeNode(val, parent, left, right);\n  }\n  add(val: T) {\n    // \u5982\u679c\u6839\u8282\u70b9\u4e3a\u7a7a\u5219\u76f4\u63a5\u8d4b\u503c\u7ed9\u6839\u8282\u70b9\n    if (this.root === null) {\n      this.afterAdd((this.root = this.createNode(val)));\n    } else {\n      let node = this.root;\n      let pos: 'left' | 'right' = 'left';\n      while (node !== null) {\n        const compare = this.compare(node.val, val);\n        if (compare > 0) {\n          if (node.left === null) break;\n          node = node.left;\n        } else if (compare < 0) {\n          if (node.right === null) {\n            pos = 'right';\n            break;\n          }\n          node = node.right;\n        } else {\n          // \u6bd4\u8f83\u503c\u76f8\u7b49\u65f6\uff0c\u76f4\u63a5\u8fdb\u884c\u8986\u76d6\uff0c\u9632\u6b62val\u4e3a\u5f15\u7528\u7c7b\u578b\n          node.val = val;\n          return;\n        }\n      }\n      this.afterAdd((node[pos] = this.createNode(val, node)));\n    }\n    this._size++;\n  }\n  protected afterAdd(node: BinaryTreeNode<T>) {}\n  remove(val: T) {\n    if (this.root === null) return;\n    // \u5bfb\u627ecompare\u4e3a0\u7684node\u503c\n    let node: BinaryTreeNode<T> | null = this.findNode(val);\n    // \u5982\u679c\u4e0d\u5b58\u5728\u8be5node\u76f4\u63a5\u8fd4\u56de\n    if (node === null) return;\n    this._size--;\n    if (node.degree === 2) {\n      const successor = node.successor()!;\n      [node.val, successor.val] = [successor.val, node.val];\n      node = successor;\n    }\n    // \u5982\u679cnode\u5ea6\u4e3a0\n    if (node.degree === 0) {\n      // \u5982\u679c\u4e3a\u6839\u8282\u70b9\u5219\u76f4\u63a5\u6e05\u7a7a\n      if (node === this.root) this.root = null;\n      else node.remove();\n      this.afterRemove(node);\n      return;\n    }\n    // \u5982\u679cnode\u5ea6\u4e3a1\n    //\u5982\u679c\u4e3a\u6839\u8282\u70b9\n    const nextNode = node.left ?? node.right!;\n    if (node.parent === null) {\n      this.root = nextNode;\n      nextNode.parent = null;\n    }\n    // \u5426\u5219\u7236\u8282\u70b9\u8d4b\u503c\u7ed9\u5b50\u8282\u70b9\n    else {\n      node.parent[node.childPosition] = nextNode;\n      nextNode.parent = node.parent;\n    }\n    this.afterRemove(nextNode);\n  }\n  protected afterRemove(node: BinaryTreeNode<T>) {}\n  contains(val: T) {\n    return this.findNode(val) !== null;\n  }\n  private findNode(val: T): BinaryTreeNode<T> | null {\n    if (this.empty) return null;\n    let node = this.root;\n    while (node !== null) {\n      const compare = this.compare(node.val, val);\n      if (compare > 0) node = node.left;\n      else if (compare < 0) node = node.right;\n      else return node;\n    }\n    return null;\n  }\n}\n"})})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},31503:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>a});var t=r(30758);const o={},l=t.createContext(o);function i(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);