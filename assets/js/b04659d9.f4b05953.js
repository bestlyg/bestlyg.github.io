"use strict";(self.webpackChunk_bestlyg_site=self.webpackChunk_bestlyg_site||[]).push([[92804],{72368:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>d,toc:()=>r});var s=i(86070),t=i(25710);const c={},l="2603.\u6536\u96c6\u6811\u4e2d\u91d1\u5e01",d={id:"leetcode/2601-2700/\u6536\u96c6\u6811\u4e2d\u91d1\u5e01",title:"2603.\u6536\u96c6\u6811\u4e2d\u91d1\u5e01",description:"\u94fe\u63a5\uff1a2603.\u6536\u96c6\u6811\u4e2d\u91d1\u5e01",source:"@site/docs/leetcode/2601-2700/2603.\u6536\u96c6\u6811\u4e2d\u91d1\u5e01.md",sourceDirName:"leetcode/2601-2700",slug:"/leetcode/2601-2700/\u6536\u96c6\u6811\u4e2d\u91d1\u5e01",permalink:"/web/site/docs/leetcode/2601-2700/\u6536\u96c6\u6811\u4e2d\u91d1\u5e01",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2603,frontMatter:{},sidebar:"journal",previous:{title:"2602.\u4f7f\u6570\u7ec4\u5143\u7d20\u5168\u90e8\u76f8\u7b49\u7684\u6700\u5c11\u64cd\u4f5c\u6b21\u6570",permalink:"/web/site/docs/leetcode/2601-2700/\u4f7f\u6570\u7ec4\u5143\u7d20\u5168\u90e8\u76f8\u7b49\u7684\u6700\u5c11\u64cd\u4f5c\u6b21\u6570"},next:{title:"2605.\u4ece\u4e24\u4e2a\u6570\u5b57\u6570\u7ec4\u91cc\u751f\u6210\u6700\u5c0f\u6570\u5b57",permalink:"/web/site/docs/leetcode/2601-2700/\u4ece\u4e24\u4e2a\u6570\u5b57\u6570\u7ec4\u91cc\u751f\u6210\u6700\u5c0f\u6570\u5b57"}},o={},r=[{value:"\u9898\u89e3 1 - cpp",id:"\u9898\u89e3-1---cpp",level:2},{value:"\u9898\u89e3 2 - python",id:"\u9898\u89e3-2---python",level:2},{value:"\u9898\u89e3 3 - rust",id:"\u9898\u89e3-3---rust",level:2},{value:"\u9898\u89e3 4 - python",id:"\u9898\u89e3-4---python",level:2}];function u(n){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"2603\u6536\u96c6\u6811\u4e2d\u91d1\u5e01",children:"2603.\u6536\u96c6\u6811\u4e2d\u91d1\u5e01"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:["\u94fe\u63a5\uff1a",(0,s.jsx)(e.a,{href:"https://leetcode.cn/problems/collect-coins-in-a-tree",children:"2603.\u6536\u96c6\u6811\u4e2d\u91d1\u5e01"}),(0,s.jsx)(e.br,{}),"\n","\u96be\u5ea6\uff1a\u56f0\u96be",(0,s.jsx)(e.br,{}),"\n","\u6807\u7b7e\uff1a\u6811\u3001\u56fe\u3001\u62d3\u6251\u6392\u5e8f\u3001\u6570\u7ec4",(0,s.jsx)(e.br,{}),"\n","\u7b80\u4ecb\uff1a","\u4f60\u9700\u8981\u6536\u96c6\u6811\u4e2d\u6240\u6709\u7684\u91d1\u5e01\uff0c\u5e76\u4e14\u56de\u5230\u51fa\u53d1\u8282\u70b9\uff0c\u8bf7\u4f60\u8fd4\u56de\u6700\u5c11\u7ecf\u8fc7\u7684\u8fb9\u6570\u3002"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u9898\u89e3-1---cpp",children:"\u9898\u89e3 1 - cpp"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2023-03-26"}),"\n",(0,s.jsx)(e.li,{children:"\u6267\u884c\u7528\u65f6\uff1a632ms"}),"\n",(0,s.jsx)(e.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a206.8MB"}),"\n",(0,s.jsx)(e.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1acpp"}),"\n",(0,s.jsxs)(e.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u5148\u5220\u9664\u6240\u6709\u6ca1\u6709\u91d1\u5e01\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u518d\u904d\u5386\u4e24\u6b21\uff0c\u5220\u9664\u6709\u91d1\u5e01\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u5269\u4e0b\u7684\u8282\u70b9\u5c31\u662f\u6240\u6709\u9700\u8981\u904d\u5386\u7684\u8282\u70b9\u3002"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"class Solution {\npublic:\n    int collectTheCoins(vector<int>& coins, vector<vector<int>>& edges) {\n        int n = coins.size();\n        vector<vector<int>> list(n);\n        vector<int> cnts(n, 0);\n        for (auto &edge : edges) {\n            list[edge[0]].push_back(edge[1]);\n            list[edge[1]].push_back(edge[0]);\n            cnts[edge[0]] += 1;\n            cnts[edge[1]] += 1;\n        }\n        int cur_edges = n - 1;\n        queue<int> q;\n        // \u7b2c\u4e00\u6b21\u522a\u9664\u6240\u6709\u7684\u65e0\u91d1\u5e01\u53f6\u5b50\u8282\u70b9\n        for (int i = 0; i < n; i++) {\n            if (cnts[i] == 1 && coins[i] == 0) q.push(i); \n        }\n        while (q.size()) {\n            int idx = q.front();\n            q.pop();\n            cur_edges -= 1;\n            for (auto &next : list[idx]) {\n                cnts[next] -= 1;\n                if (cnts[next] == 1 && coins[next] == 0) q.push(next);\n            }\n        }\n        // \u7b2c\u4e8c\u6b21\u5bfb\u627e\u6240\u6709\u7684\u53f6\u5b50\u91d1\u5e01\u8282\u70b9\n        for (int i = 0; i < n; i++) {\n            if (cnts[i] == 1 && coins[i] == 1) q.push(i);\n        }\n        cur_edges -= q.size();\n        while (q.size()) {\n            int idx = q.front();\n            q.pop();\n            for (auto &next : list[idx]) {\n                cnts[next] -= 1;\n                if (cnts[next] == 1) {\n                    cnts[next] -= 1;\n                    cur_edges -= 1;\n                }\n            }\n        }\n        return max(cur_edges * 2, 0);\n    }\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u9898\u89e3-2---python",children:"\u9898\u89e3 2 - python"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2023-03-26"}),"\n",(0,s.jsx)(e.li,{children:"\u6267\u884c\u7528\u65f6\uff1a256ms"}),"\n",(0,s.jsx)(e.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a27.6MB"}),"\n",(0,s.jsx)(e.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1apython"}),"\n",(0,s.jsxs)(e.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u540c\u4e0a\u3002"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"class Solution:\n    def collectTheCoins(self, coins: List[int], edges: List[List[int]]) -> int:\n        n = len(coins)\n        l = [[] for _ in range(n)]\n        cnts = [0] * n\n        for edge in edges:\n            l[edge[0]].append(edge[1])\n            l[edge[1]].append(edge[0])\n            cnts[edge[0]] += 1\n            cnts[edge[1]] += 1\n        cur_edges = n - 1\n        q = deque()\n        for i in range(n):\n            if cnts[i] == 1 and coins[i] == 0:\n                q.append(i)\n        while len(q):\n            idx = q.popleft()\n            cur_edges -= 1\n            for ne in l[idx]:\n                cnts[ne] -= 1\n                if cnts[ne] == 1 and coins[ne] == 0:\n                    q.append(ne)\n        for i in range(n):\n            if cnts[i] == 1 and coins[i] == 1:\n                q.append(i)\n        cur_edges -= len(q)\n        while len(q):\n            idx = q.popleft()\n            for ne in l[idx]:\n                cnts[ne] -= 1\n                if cnts[ne] == 1:\n                    cnts[ne] -= 1\n                    cur_edges -= 1\n        return max(cur_edges * 2, 0)\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u9898\u89e3-3---rust",children:"\u9898\u89e3 3 - rust"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2023-03-26"}),"\n",(0,s.jsx)(e.li,{children:"\u6267\u884c\u7528\u65f6\uff1a52ms"}),"\n",(0,s.jsx)(e.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a5.2MB"}),"\n",(0,s.jsx)(e.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1arust"}),"\n",(0,s.jsxs)(e.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u540c\u4e0a\u3002"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-rust",children:"impl Solution {\n    pub fn collect_the_coins(coins: Vec<i32>, edges: Vec<Vec<i32>>) -> i32 {\n        let n = coins.len();\n        let mut list = vec![vec![]; n];\n        let mut cnts = vec![0; n];\n        for edge in edges {\n            list[edge[0] as usize].push(edge[1]);\n            list[edge[1] as usize].push(edge[0]);\n            cnts[edge[0] as usize] += 1;\n            cnts[edge[1] as usize] += 1;\n        }\n        let mut cur_edges = n - 1;\n        let mut q = std::collections::VecDeque::<usize>::new();\n        for i in 0..n {\n            if cnts[i] == 1 && coins[i] == 0 {\n                q.push_back(i);\n            }\n        }\n        while !q.is_empty() {\n            let idx = q.pop_front().unwrap();\n            cur_edges -= 1;\n            for next in list[idx].iter() {\n                let next = *next as usize;\n                cnts[next] -= 1;\n                if cnts[next] == 1 && coins[next] == 0 {\n                    q.push_back(next)\n                }\n            }\n        }\n        for i in 0..n {\n            if cnts[i] == 1 && coins[i] == 1 {\n                q.push_back(i);\n            }\n        }\n        cur_edges -= q.len();\n        while !q.is_empty() {\n            let idx = q.pop_front().unwrap();\n            for next in list[idx].iter() {\n                let next = *next as usize;\n                cnts[next] -= 1;\n                if cnts[next] == 1 {\n                    cnts[next] -= 1;\n                    cur_edges -= 1;\n                }\n            }\n        }\n        0.max(2 * cur_edges as i32)\n    }\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u9898\u89e3-4---python",children:"\u9898\u89e3 4 - python"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7f16\u8f91\u65f6\u95f4\uff1a2023-09-21"}),"\n",(0,s.jsx)(e.li,{children:"\u6267\u884c\u7528\u65f6\uff1a3812ms"}),"\n",(0,s.jsx)(e.li,{children:"\u5185\u5b58\u6d88\u8017\uff1a28.9MB"}),"\n",(0,s.jsx)(e.li,{children:"\u7f16\u7a0b\u8bed\u8a00\uff1apython"}),"\n",(0,s.jsxs)(e.li,{children:["\u89e3\u6cd5\u4ecb\u7ecd\uff1a","\u540c\u4e0a\u3002"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"class Solution:\n    def collectTheCoins(self, coins: List[int], edges: List[List[int]]) -> int:\n        n = len(edges) + 1\n        nodes: List[List[int]] = [[] for _ in range(n)]\n        for [n1, n2] in edges:\n            nodes[n1].append(n2)\n            nodes[n2].append(n1)\n        egde_sum = n - 1\n        # \u628a\u53f6\u5b50\u6ca1\u91d1\u5e01\u7684\u5220\u6389\n        q = deque(i for i in range(n) if len(nodes[i]) == 1 and coins[i] == 0)\n        while q:\n            cur = q.pop()\n            for idx in nodes[cur]:\n                egde_sum -= 1\n                nodes[idx].remove(cur)\n                if len(nodes[idx]) == 1 and coins[idx] == 0:\n                    q.append(idx)\n        # \u904d\u5386\u6240\u6709\u53f6\u5b50\u6709\u91d1\u5e01\u7684\n        q = deque(i for i in range(n) if len(nodes[i]) == 1 and coins[i] == 1)\n        while q:\n            cur = q.pop()\n            egde_sum -= 1\n            for idx in nodes[cur]:\n                nodes[idx].remove(cur)\n                # \u5982\u679c\u4ed6\u53ea\u5269\u4e00\u6761\u8fb9\uff0c\u90a3\u5c31\u4e5f\u53ef\u4ee5\u4e0d\u904d\u5386\u4ed6\n                if len(nodes[idx]) == 1:\n                    egde_sum -= 1\n        return max(egde_sum * 2, 0)\n"})})]})}function p(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}},25710:(n,e,i)=>{i.d(e,{R:()=>l,x:()=>d});var s=i(30758);const t={},c=s.createContext(t);function l(n){const e=s.useContext(c);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),s.createElement(c.Provider,{value:e},n.children)}}}]);